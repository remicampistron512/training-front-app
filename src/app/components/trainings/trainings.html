<div>
  <div class="d-flex gap-2 mb-3 align-items-center">
    <label class="form-label mb-0">Prix maximum:</label>

    <input
      type="number"
      class="form-control"
      style="width:160px"
      min="0"
      name="maxPrice"
      [ngModel]="maxPrice"
      (ngModelChange)="setMaxPrice($event)"
      placeholder="ex. 600"
    />

    <button class="btn btn-outline-secondary" type="button" (click)="setMaxPrice(null)">
      RÃ©initialiser
    </button>
  </div>
  @if (filteredTrainings.length) {
    <ng-container>



      <table class="table table-striped table-hover">
        <thead>
        <tr>
          <th role="button" (click)="setSort('id')">ID</th>
          <th role="button" (click)="setSort('name')">Nom</th>
          <th role="button" (click)="setSort('description')">Description</th>
          <th role="button" (click)="setSort('price')">Prix</th>
        </tr>
        </thead>

        <tbody>
          @for (training of filteredTrainings; track training.id) {
            <tr>
              <td>{{ training.id }}</td>
              <td>{{ training.name }}</td>
              <td>{{ training.description }}</td>
              <td>{{ training.price }}</td>
              <td>
                <input
                  type="number"
                  name="quantity-{{training.id}}"
                  style="width:60px"
                  [(ngModel)]="training.quantity"
                />
              </td>
              <td>
                <a class="btn btn-primary" (click)="onAddToCart(training)">Ajouter au panier</a>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </ng-container>
  } @else {
    @if ((searchTerm.trim().length) > 0 || maxPrice !== null) {
      <p>Aucune formations ne correspond au filtres.</p>
    } @else {
      <p>Aucune formations disponibles.</p>
    }
  }
</div>
