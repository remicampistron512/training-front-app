<form #trainingForm="ngForm" (ngSubmit)="onSubmit(trainingForm)" novalidate class="container">
  <div class="mb-3">
    <label for="name" class="form-label">Name</label>
    <input
      id="name"
      name="name"
      type="text"
      class="form-control"
      required
      minlength="2"
      [(ngModel)]="model.name"
      #name="ngModel"
      [class.is-invalid]="name.invalid && (name.dirty || name.touched)"
    />

    @if (name.invalid && (name.dirty || name.touched)) {
      <div class="invalid-feedback d-block">
        @if (name.errors?.['required']) {
          <div>Name is required.</div>
        }
        @if (name.errors?.['minlength']) {
          <div>Name must be at least 2 characters.</div>
        }
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="description" class="form-label">Description</label>
    <textarea
      id="description"
      name="description"
      class="form-control"
      rows="4"
      required
      minlength="10"
      [(ngModel)]="model.description"
      #description="ngModel"
      [class.is-invalid]="description.invalid && (description.dirty || description.touched)"
    ></textarea>

    @if (description.invalid && (description.dirty || description.touched)) {
      <div class="invalid-feedback d-block">
        @if (description.errors?.['required']) {
          <div>Description is required.</div>
        }
        @if (description.errors?.['minlength']) {
          <div>Description must be at least 10 characters.</div>
        }
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="price" class="form-label">Price</label>
    <div class="input-group">
      <span class="input-group-text">€</span>
      <input
        id="price"
        name="price"
        type="number"
        class="form-control"
        required
        min="0"
        step="0.01"
        [(ngModel)]="model.price"
        #price="ngModel"
        [class.is-invalid]="price.invalid && (price.dirty || price.touched)"
      />
    </div>

    @if (price.invalid && (price.dirty || price.touched)) {
      <div class="invalid-feedback d-block">
        @if (price.errors?.['required']) {
          <div>Price is required.</div>
        }
        @if (price.errors?.['min']) {
          <div>Price must be ≥ 0.</div>
        }
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="quantity" class="form-label">Quantity</label>
    <input
      id="quantity"
      name="quantity"
      type="number"
      class="form-control"
      required
      min="0"
      step="1"
      [(ngModel)]="model.quantity"
      #quantity="ngModel"
      [class.is-invalid]="quantity.invalid && (quantity.dirty || quantity.touched)"
    />

    @if (quantity.invalid && (quantity.dirty || quantity.touched)) {
      <div class="invalid-feedback d-block">
        @if (quantity.errors?.['required']) {
          <div>Quantity is required.</div>
        }
        @if (quantity.errors?.['min']) {
          <div>Quantity must be ≥ 0.</div>
        }
      </div>
    }
  </div>

  <div class="d-flex gap-2 mt-4">
    <button type="submit" class="btn btn-primary" [disabled]="trainingForm.invalid">
      Create training
    </button>

    <button type="button" class="btn btn-outline-secondary" (click)="trainingForm.resetForm(defaultModel)">
      Reset
    </button>
  </div>
</form>
