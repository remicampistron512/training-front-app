<div>
  <div class="d-flex gap-2 mb-3 align-items-center">
    <label for="maxPrice" class="form-label mb-0">Prix maximum:</label>

    <input
      type="number"
      class="form-control"
      style="width:160px"
      min="0"
      name="maxPrice"
      [ngModel]="maxPrice"
      (ngModelChange)="setMaxPrice($event)"
      placeholder="ex. 600"
    />

    <button class="btn btn-outline-secondary" type="button" (click)="setMaxPrice(null)">
      r√©initialiser
    </button>
    <div class="ms-lg-3 my-2 my-lg-0">
      <app-search-bar></app-search-bar>
    </div>
  </div>
  @if (filteredTrainings.length) {
    <ng-container>



      <button routerLink="/training-form" class="btn btn-primary">Ajouter formation</button>
      <table class="table table-striped table-hover">
        <thead>
        <tr>
          <th role="button" (click)="setSort('id')">ID</th>
          <th role="button" (click)="setSort('name')">Nom</th>
          <th role="button" (click)="setSort('description')">Description</th>
          <th role="button" (click)="setSort('price')">Prix</th>
        </tr>
        </thead>

        <tbody>

          @for (training of filteredTrainings; track training.id) {
            <tr>
              <td>{{ training.id }}</td>
              <td>{{ training.name }}</td>
              <td>{{ training.description }}</td>
              <td>{{ training.price }}</td>
              <td>
                <button [routerLink]="'/trainings/' + training.id + '/edit'" class="btn btn-primary">
                  Modifier
                </button>
              </td>
              <td><button (click)="removeTraining(training.id)"  class="btn btn-danger">Supprimer</button></td>
            </tr>
          }

        </tbody>
      </table>
    </ng-container>
  } @else {
    @if ((searchTerm.trim().length) > 0 || maxPrice !== null) {
      <p>No trainings match your filters.</p>
    } @else {
      <p>No trainings available.</p>
    }
  }
</div>
